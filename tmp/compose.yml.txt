version: "3.9"
services:
 db2:
  image: ibmcom/db2
  environment:
    DB2INSTANCE: db2inst1
    DB2INST1_PASSWORD: password
    LICENSE: accept
    DBNAME: nPolice
  privileged: true
  volumes:
    - ./database:/database
  networks:
    - backend
 websphere:
  image: ibmcom/websphere-traditional
  privileged: true
  links:
    - "db2"
  networks:
    - frontend
    - backend
 http:
  image: httpd
  privileged: true
  ports:
   - 81:80
  networks:
     - frontend
 nginx:
   image: nginx
   privileged: true
   ports:
    - 80:80
   volumes:
    - ./conf.d/:/etc/nginx/conf.d/
   depends_on:
    - websphere
   networks:
     - frontend
mq:
  image: ibmcom/mq
  privileged: true
  environment:
    LICENSE: accept
networks:
  frontend:
  backend:
volumes:
    database:
